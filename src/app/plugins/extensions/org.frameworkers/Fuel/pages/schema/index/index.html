<ul class="breadcrumbs">
  <li><a href="[_app.url_base]">Application</a> ::</li>
  <li><a href="[_prefix_]/">Fuel</a> ::</li>
  <li>Schema</li>
</ul>
<div id="colContainer">
	<div id="col1">
		<div id="col1Content">
			<h2>Schema</h2>
			<div class="ff_message error" style="margin-top:16px;">
				[assert:!dbConnectOk;block=div]
				<strong>Error</strong><br/>
				There was a problem connecting to the database.
				Check your database settings in <a href="[_prefix_]/config">application configuration</a>
			</div>
			<div>
			[assert:dbConnectOk;block=div]
				<div class="modelTable" style="border:solid 1px #ddd;margin-bottom:5px;">
					[tables;block=div]
					<div class="modelTableIcon">
						<img src="[_theme_]/images/[if:@.found;content=[@.status];else=missing].png" alt="[if:@.found;content=[@.status];else=missing]"/>
					</div>
					<div class="modelTableDetails">
						<h4>Table: <a href="[_prefix_]/schema/compareFields/[@.name]">[if:@.found;block=a;else="[@.name] (Not Found)"][@.name]</a></h4>
						<span>[assert:@.found;block=span] Status: 
							<span>[if:@.status=fieldsDiffer;block=span;else=OK (no changes detected)] 
								<a href="[_prefix_]/schema/compareFields/[@.name]">Fields Differ</a>!
							</span>
						</span>
						<div>
							[assert:!@.found;block=div] 
							<em>'[@.name]'</em>&nbsp; has been defined in your model but was not detected in the database. Your may either:
							<table>
							  <tr>
							    <td><a href="[_prefix_]/schema/createTable/[@.name]">Add as a new table</a></td></tr>
							  <tr>
							    <td>Rename an existing database table: 
							    <form style="display:inline;" action="[_prefix_]/schema/renameDbTable/" method="POST">
							    	<input type="hidden" name="renameTo" value="[@.name]"/>
								 	<select name="tableName">
								  		<option value="[existingTableNames;block=option][@]">[@]</option>
								  	</select>
								  	<input type="submit" value="Apply"/>
							  	</form>
							  	</td></tr>
							 </table>
						</div>
					</div>
					<br style="clear:both;"/>
				</div>
			</div>
		</div>
	</div>
	<div id="col2">
		<p>&nbsp;</p>
		<div class="innerBox">
			<h2>Database Details</h2>
			
		</div>
		<div class="innerBox">
			<h2>Required Framework Tables</h2>
			<ul style="line-height:18px;">
			  <li class="[assert:!app_accountsExists;content='error']" style="padding:5px;margin-bottom:5px;">app_accounts: [if:app_accountsExists;content='ok';else='missing'] <span>[assert:!app_accountsExists;block=span](<a href="[_prefix_]/schema/addFWTable/app_accounts"/>add</a>)</span></li>
			  <li class="[assert:!app_logsExists;content='error']" style="padding:5px;margin-bottom:5px;">app_logs:     [if:app_logsExists;content='ok';else='missing']  <span>[assert:!app_logsExists;block=span](<a href="[_prefix_]/schema/addFWTable/app_logs"/>add</a>)</span></li>
			  <li class="[assert:!app_rolesExists;content='error']" style="padding:5px;margin-bottom:5px;">app_roles:    [if:app_rolesExists;content='ok';else='missing'] <span>[assert:!app_rolesExists;block=span](<a href="[_prefix_]/schema/addFWTable/app_roles"/>add</a>)</span></li>
			</ul>
		</div>
		<div class="innerBox">
			<h2>Schema Notices</h2>
			<ul>
			 <li class="ff_notice notice">[notices;block=li;noerror]Notice: Existing database table `[@.name]` was <strong>Not Found</strong> in the model! [ <a href="[_prefix_]/schema/deleteDbTable/[@.name]">delete this table</a> ]</li>
			</ul>
		</div>
	</div>
	<br class="clr"/>
</div>